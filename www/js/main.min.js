/*! my-project-name 2015-08-10 */
define(function(b){function c(b){for(a=0;a<audiochannels.length;a++)if(thistime=new Date,audiochannels[a].finished<thistime.getTime()){audiochannels[a].finished=thistime.getTime()+1e3*document.getElementById(b).duration,audiochannels[a].channel.src=document.getElementById(b).src,audiochannels[a].channel.load(),audiochannels[a].channel.play();break}}var d=b("underscore"),e=b("jquery"),f=[{name:"boy",img:"http://images.clipartpanda.com/boy-20clip-20art-RiAykqLLT.jpeg"},{name:"bee",img:"http://bee-stings.net/bee_logo2.jpg"},{name:"baby",img:"http://www.eonline.com/resize/500/500//eol_images/Entire_Site/2015021/rs_300x300-150121185511-600.New-Gerber-Baby.ms.012115.jpg"},{name:"girl",img:"https://encrypted-tbn1.gstatic.com/images?q=tbn:ANd9GcSLd6-BygSC-wYEDcoDcz7JW5eJ8MSKFkew4zuIdPoJqunKf_-P"},{name:"goo",img:"http://heidelblog.net/wp-content/uploads/2014/06/goo.jpg"},{name:"God",img:"http://old.rejesus.co.uk/expressions/faces_jesus/facesj_media/b_sinai.jpg"},{name:"green",img:"http://homemadehalloween.org/wp-content/uploads/2012/10/minecraft-creeper2.png"},{name:"creeper",img:"http://img3.wikia.nocookie.net/__cb20131206161228/minecraft/images/d/da/Minecraft_creeper.jpg"},{name:"egg",img:"http://upload.wikimedia.org/wikipedia/commons/0/02/Fried_egg,_sunny_side_up.jpg"},{name:"tree",img:"https://farm5.staticflickr.com/4007/5075169756_d51008b274_q_d.jpg"},{name:"train",img:"https://farm4.staticflickr.com/3098/2295150040_186e240d4f_q_d.jpg"},{name:"sea",img:"https://farm7.staticflickr.com/6184/6088463794_1a8409bd33_q_d.jpg"},{name:"boat",img:"https://farm5.staticflickr.com/4077/4908578013_4f30104156_q_d.jpg"},{name:"box",img:"https://farm4.staticflickr.com/3390/3192570552_9f362cde65_q_d.jpg"},{name:"car",img:"https://farm3.staticflickr.com/2147/2157448457_d4788673b3_q_d.jpg"},{name:"dark",img:"https://farm1.staticflickr.com/92/333816710_0623edf1da_q_d.jpg"},{name:"eat",img:"https://farm4.staticflickr.com/3931/15381527766_b10eb0b9d4_q_d.jpg"},{name:"eggs",img:"https://farm4.staticflickr.com/3101/2735689978_949e3a02b1_q_d.jpg"},{name:"fox",img:"https://farm8.staticflickr.com/7456/11100243363_d804107fae_q_d.jpg"},{name:"goat",img:"https://farm9.staticflickr.com/8356/8280907415_0ec381b29d_q_d.jpg"},{name:"ham",img:"https://farm5.staticflickr.com/4119/4873400550_c1fa7f5172_q_d.jpg"},{name:"house",img:"https://farm2.staticflickr.com/1105/1189776958_8bc7c2113c_q_d.jpg"},{name:"mouse",img:"https://farm3.staticflickr.com/2928/14614923808_d3c7fc58c9_q_d.jpg"},{name:"rain",img:"https://farm7.staticflickr.com/6182/6132260807_8f2acff010_q_d.jpg"}],g=3,h=function w(a,b){var c=d.shuffle(f)[0],e=d.findIndex(a,function(a){return a.name===b.name||a.name===c.name});return e>0?w(a,b):c},i=function(a){e("#choices").empty();for(var b=(d.shuffle(f),[]),c=!1,i=0;g>i;i++){var j;i!==g-1&&0!==Math.floor(Math.random()*g)||c?j=h(b,a):(c=!0,cardN=d.findIndex(f,function(b){return b.name===a.name}),j=f[cardN]),b.push(j),i%3===0&&e("#choices").prepend('<div class="row"></div>');var k='<div class="wordImg col-xs-4"><img data-name="'+j.name+'" src="'+j.img+'" /></div>';e("#choices .row:first").append(k)}e("img").on("click",q)},j=function(){i(s())},k=e("#word"),l=1,m=3,n=e("#score"),o="",p=0,q=function(a){console.log("score",l);var b=e(a.currentTarget).data("name");b===k.text()?(n.addClass("progress-bar-success").removeClass("progress-bar-danger"),l+=10,m=3,t(),e("#score").width(l+"%"),l>100&&(l=0,r(),g+=3),i(s())):(n.removeClass("progress-bar-success").addClass("progress-bar-danger"),l-=m,m=2*m,u(),1>l&&(l=1),e("#score").width(l+"%"))},p=["https://farm9.staticflickr.com/8011/7315871276_d9e6773eb1_q_d.jpg","https://farm8.staticflickr.com/7094/7268561194_950c53b257_q_d.jpg","https://farm9.staticflickr.com/8006/7268561274_9e43b68420_q_d.jpg","https://farm9.staticflickr.com/8151/7268561188_6590168fe9_q_d.jpg"],r=function(){e("#medals").append('<img src="'+p[Math.floor(Math.random()*p.length)]+'" />')},s=function x(){var a=d.shuffle(f)[0];return a===o?x():(o=a,k.text(o.name),a)},t=function(){c("success")},u=function(){c("error")},v=10;for(audiochannels=new Array,a=0;a<v;a++)audiochannels[a]=new Array,audiochannels[a].channel=new Audio,audiochannels[a].finished=-1;j()});